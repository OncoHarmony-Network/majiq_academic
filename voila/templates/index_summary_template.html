{% extends "lsv_sidebar_template.html" %}
{#{% block title %}MAJIQ LSV &Delta&Psi; Summary{% endblock %}#}
{% block css %}
    <link rel="stylesheet" type="text/css" href="static/css/bootstrap-frm.css"/>
    <link rel="stylesheet" type="text/css" href="static/css/lsv.css"/>
{% endblock %}

{% block js %}
    <script src="static/js/jquery.tablesorter.js" type="text/javascript"></script>
    <script src="static/js/jquery.tablesorter.pager.js" type="text/javascript"></script>
    <script src="static/js/application.js" type="text/javascript"></script>
    <script type="text/javascript" src="static/js/jquery.tooltipster.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pouchdb@6.4.2/dist/pouchdb.min.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="static/js/lsv.js"></script>
    <script src="static/js/lsvplots.js"></script>
    <script src="static/js/colors.js"></script>
    <script>
        var db = new PouchDB('{{ database_name }}', {auto_compaction: true});
        var lsv = new Lsv(db);
        var bp = new LSVPlots(db);
    </script>
    {% for gene_id in gene_ids %}
        <script src="db/{{ gene_id }}.js"></script>
    {% endfor %}
{% endblock %}

{% block content %}
    <section>
        <div class="events-summary">
            <table id="event_table" class="tablesorter">
                {% block tableContent %}
                {% endblock %}
            </table>

            <div class="pager">
                <form>
                    <img src="static/img/icons/first.png" class="first"/>
                    <img src="static/img/icons/prev.png" class="prev"/>
                    <input type="text" class="pagedisplay"/>
                    <img src="static/img/icons/next.png" class="next"/>
                    <img src="static/img/icons/last.png" class="last"/>
                    <select class="pagesize" autocomplete="off">
                        {% for mark in table_marks -%}
                            {% if loop.first %}
                                <option selected="selected" value="{{ mark }}">{{ mark }}</option>
                            {% else %}
                                <option value="{{ mark }}">{{ mark }}</option>
                            {% endif %}
                        {%- endfor %}
                        <option value="{{ lsvs_count }}">All</option>
                    </select>
                </form>
            </div>
        </div>
    </section>
{% endblock %}

