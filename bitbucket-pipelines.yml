image: python:3.8.10

pipelines:
  custom:
    docs-with-sphinx:
      - step:
          name: doc generator
          caches:
            - pip
          script:
            - apt-get update && apt-get -y install libhts-dev

            # INSTALL YOUR DEPENDENCIES HERE
            # - pip install -r requirements.txt
            - pip install .
            - pip install sphinx sphinx_rtd_theme
            - cd doc
            - make clean
            - make html
          artifacts:
            - docs/build/html/**